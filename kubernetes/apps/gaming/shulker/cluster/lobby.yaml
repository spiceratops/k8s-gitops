---
apiVersion: shulkermc.io/v1alpha1
kind: MinecraftServerFleet
metadata:
  name: minecraft-lobby
spec:
  clusterRef:
    name: minecraft-cluster
  replicas: 1
  template:
    spec:
      clusterRef:
        name: minecraft-cluster
      podOverrides:
        volumeMounts:
          - name: lobby
            mountPath: /data
        volumes:
          - name: lobby
            persistentVolumeClaim:
              claimName: minecraft-lobby
        env:
          - name: DIFFICULTY
            value: "easy"
          - name: ENABLE_WHITELIST
            value: "true"
        image:
          imagePullSecrets: []
          name: "itzg/minecraft-server:java21@sha256:7605a582444efbf57aefa257480ad5c282bfa677cda792a4781d3917ac6406c6"
      tags:
        - minecraft-lobby
      version:
        channel: Paper
        name: "1.20.1"
      config:
        serverProperties:
          enforce-whitelist: "true"
